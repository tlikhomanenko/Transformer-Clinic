Namespace(beam=4, bpe=None, cpu=False, criterion='cross_entropy', data='../data-bin/wmt14_en_de_joined_dict_split_de', dataset_impl=None, decoding_format=None, diverse_beam_groups=-1, diverse_beam_strength=0.5, empty_cache_freq=0, force_anneal=None, fp16=False, fp16_init_scale=128, fp16_scale_tolerance=0.0, fp16_scale_window=None, gen_subset='valid', iter_decode_eos_penalty=0.0, iter_decode_force_max_iter=False, iter_decode_max_iter=10, lazy_load=False, left_pad_source='True', left_pad_target='False', lenpen=0.6, load_alignments=False, log_format=None, log_interval=1000, lr_scheduler='fixed', lr_shrink=0.1, match_source_len=False, max_len_a=0, max_len_b=200, max_sentences=128, max_source_positions=1024, max_target_positions=1024, max_tokens=None, memory_efficient_fp16=False, min_len=1, min_loss_scale=0.0001, model_overrides='{}', momentum=0.99, nbest=1, no_beamable_mm=False, no_early_stop=False, no_progress_bar=False, no_repeat_ngram_size=0, num_shards=1, num_workers=1, optimizer='nag', path='wmt14ende/wmt-admin-abspos-6l/checkpoint66.pt', prefix_size=0, print_alignment=False, print_step=False, quiet=True, raw_text=False, remove_bpe='@@ ', replace_unk=None, required_batch_size_multiple=8, results_path=None, sacrebleu=False, sampling=False, sampling_topk=-1, sampling_topp=-1.0, score_reference=False, seed=1, shard_id=0, skip_invalid_size_inputs_valid_test=False, source_lang=None, target_lang=None, task='translation', tbmf_wrapper=False, temperature=1.0, tensorboard_logdir='', threshold_loss_scale=None, tokenizer=None, unkpen=0, unnormalized=False, upsample_primary=1, user_dir='../radam_fairseq', warmup_updates=0, weight_decay=0.0)
| [en] dictionary: 37184 types
| [de] dictionary: 37184 types
| loaded 1061 examples from: ../data-bin/wmt14_en_de_joined_dict_split_de/valid.en-de.en
| loaded 1061 examples from: ../data-bin/wmt14_en_de_joined_dict_split_de/valid.en-de.de
| ../data-bin/wmt14_en_de_joined_dict_split_de valid en-de 1061 examples
| loading model(s) from wmt14ende/wmt-admin-abspos-6l/checkpoint66.pt
source len: 1024
target len: 1024
1
layer_num: 0, layer_iter: 1.0
encoder attn ratio: 1.0
layer_num: 0, layer_iter: 2.0
encoder ffn ratio: 1.0266083478927612
layer_num: 1, layer_iter: 3.0
encoder attn ratio: 1.204774022102356
layer_num: 1, layer_iter: 4.0
encoder ffn ratio: 1.2311817407608032
layer_num: 2, layer_iter: 5.0
encoder attn ratio: 1.3847664594650269
layer_num: 2, layer_iter: 6.0
encoder ffn ratio: 1.4184565544128418
layer_num: 3, layer_iter: 7.0
encoder attn ratio: 1.5441515445709229
layer_num: 3, layer_iter: 8.0
encoder ffn ratio: 1.5812358856201172
layer_num: 4, layer_iter: 9.0
encoder attn ratio: 1.7005172967910767
layer_num: 4, layer_iter: 10.0
encoder ffn ratio: 1.744560956954956
layer_num: 5, layer_iter: 11.0
encoder attn ratio: 1.8555399179458618
layer_num: 5, layer_iter: 12.0
encoder ffn ratio: 1.9033799171447754
layer_num: 0, layer_iter: 1.0
decoder self ratio: 1.0
layer_num: 0, layer_iter: 2.0
decoder en ratio: 0.6886593699455261
layer_num: 0, layer_iter: 3.0
decoder ffn ratio: 0.8111870884895325
layer_num: 1, layer_iter: 4.0
decoder self ratio: 1.0267705917358398
layer_num: 1, layer_iter: 5.0
decoder en ratio: 1.1161627769470215
layer_num: 1, layer_iter: 6.0
decoder ffn ratio: 1.2036521434783936
layer_num: 2, layer_iter: 7.0
decoder self ratio: 1.3565627336502075
layer_num: 2, layer_iter: 8.0
decoder en ratio: 1.4442957639694214
layer_num: 2, layer_iter: 9.0
decoder ffn ratio: 1.5033378601074219
layer_num: 3, layer_iter: 10.0
decoder self ratio: 1.633933186531067
layer_num: 3, layer_iter: 11.0
decoder en ratio: 1.7239692211151123
layer_num: 3, layer_iter: 12.0
decoder ffn ratio: 1.7801494598388672
layer_num: 4, layer_iter: 13.0
decoder self ratio: 1.8876510858535767
layer_num: 4, layer_iter: 14.0
decoder en ratio: 1.9767776727676392
layer_num: 4, layer_iter: 15.0
decoder ffn ratio: 2.019747018814087
layer_num: 5, layer_iter: 16.0
decoder self ratio: 2.1125738620758057
layer_num: 5, layer_iter: 17.0
decoder en ratio: 2.1929163932800293
layer_num: 5, layer_iter: 18.0
decoder ffn ratio: 2.233884811401367
| Translated 1061 sentences (13952 tokens) in 3.1s (337.38 sentences/s, 4436.48 tokens/s)
| Generate valid with beam=4: BLEU4 = 26.70, 56.6/31.6/20.5/13.8 (BP=1.000, ratio=1.031, syslen=11019, reflen=10683)
Namespace(beam=4, bpe=None, cpu=False, criterion='cross_entropy', data='../data-bin/wmt14_en_de_joined_dict_split_de', dataset_impl=None, decoding_format=None, diverse_beam_groups=-1, diverse_beam_strength=0.5, empty_cache_freq=0, force_anneal=None, fp16=False, fp16_init_scale=128, fp16_scale_tolerance=0.0, fp16_scale_window=None, gen_subset='test', iter_decode_eos_penalty=0.0, iter_decode_force_max_iter=False, iter_decode_max_iter=10, lazy_load=False, left_pad_source='True', left_pad_target='False', lenpen=0.6, load_alignments=False, log_format=None, log_interval=1000, lr_scheduler='fixed', lr_shrink=0.1, match_source_len=False, max_len_a=0, max_len_b=200, max_sentences=128, max_source_positions=1024, max_target_positions=1024, max_tokens=None, memory_efficient_fp16=False, min_len=1, min_loss_scale=0.0001, model_overrides='{}', momentum=0.99, nbest=1, no_beamable_mm=False, no_early_stop=False, no_progress_bar=False, no_repeat_ngram_size=0, num_shards=1, num_workers=1, optimizer='nag', path='wmt14ende/wmt-admin-abspos-6l/checkpoint66.pt', prefix_size=0, print_alignment=False, print_step=False, quiet=True, raw_text=False, remove_bpe='@@ ', replace_unk=None, required_batch_size_multiple=8, results_path=None, sacrebleu=False, sampling=False, sampling_topk=-1, sampling_topp=-1.0, score_reference=False, seed=1, shard_id=0, skip_invalid_size_inputs_valid_test=False, source_lang=None, target_lang=None, task='translation', tbmf_wrapper=False, temperature=1.0, tensorboard_logdir='', threshold_loss_scale=None, tokenizer=None, unkpen=0, unnormalized=False, upsample_primary=1, user_dir='../radam_fairseq', warmup_updates=0, weight_decay=0.0)
| [en] dictionary: 37184 types
| [de] dictionary: 37184 types
| loaded 1084 examples from: ../data-bin/wmt14_en_de_joined_dict_split_de/test.en-de.en
| loaded 1084 examples from: ../data-bin/wmt14_en_de_joined_dict_split_de/test.en-de.de
| ../data-bin/wmt14_en_de_joined_dict_split_de test en-de 1084 examples
| loading model(s) from wmt14ende/wmt-admin-abspos-6l/checkpoint66.pt
source len: 1024
target len: 1024
1
layer_num: 0, layer_iter: 1.0
encoder attn ratio: 1.0
layer_num: 0, layer_iter: 2.0
encoder ffn ratio: 1.0266083478927612
layer_num: 1, layer_iter: 3.0
encoder attn ratio: 1.204774022102356
layer_num: 1, layer_iter: 4.0
encoder ffn ratio: 1.2311817407608032
layer_num: 2, layer_iter: 5.0
encoder attn ratio: 1.3847664594650269
layer_num: 2, layer_iter: 6.0
encoder ffn ratio: 1.4184565544128418
layer_num: 3, layer_iter: 7.0
encoder attn ratio: 1.5441515445709229
layer_num: 3, layer_iter: 8.0
encoder ffn ratio: 1.5812358856201172
layer_num: 4, layer_iter: 9.0
encoder attn ratio: 1.7005172967910767
layer_num: 4, layer_iter: 10.0
encoder ffn ratio: 1.744560956954956
layer_num: 5, layer_iter: 11.0
encoder attn ratio: 1.8555399179458618
layer_num: 5, layer_iter: 12.0
encoder ffn ratio: 1.9033799171447754
layer_num: 0, layer_iter: 1.0
decoder self ratio: 1.0
layer_num: 0, layer_iter: 2.0
decoder en ratio: 0.6886593699455261
layer_num: 0, layer_iter: 3.0
decoder ffn ratio: 0.8111870884895325
layer_num: 1, layer_iter: 4.0
decoder self ratio: 1.0267705917358398
layer_num: 1, layer_iter: 5.0
decoder en ratio: 1.1161627769470215
layer_num: 1, layer_iter: 6.0
decoder ffn ratio: 1.2036521434783936
layer_num: 2, layer_iter: 7.0
decoder self ratio: 1.3565627336502075
layer_num: 2, layer_iter: 8.0
decoder en ratio: 1.4442957639694214
layer_num: 2, layer_iter: 9.0
decoder ffn ratio: 1.5033378601074219
layer_num: 3, layer_iter: 10.0
decoder self ratio: 1.633933186531067
layer_num: 3, layer_iter: 11.0
decoder en ratio: 1.7239692211151123
layer_num: 3, layer_iter: 12.0
decoder ffn ratio: 1.7801494598388672
layer_num: 4, layer_iter: 13.0
decoder self ratio: 1.8876510858535767
layer_num: 4, layer_iter: 14.0
decoder en ratio: 1.9767776727676392
layer_num: 4, layer_iter: 15.0
decoder ffn ratio: 2.019747018814087
layer_num: 5, layer_iter: 16.0
decoder self ratio: 2.1125738620758057
layer_num: 5, layer_iter: 17.0
decoder en ratio: 2.1929163932800293
layer_num: 5, layer_iter: 18.0
decoder ffn ratio: 2.233884811401367
| Translated 1084 sentences (16973 tokens) in 4.1s (267.39 sentences/s, 4186.75 tokens/s)
| Generate test with beam=4: BLEU4 = 25.97, 56.1/31.4/19.9/13.0 (BP=1.000, ratio=1.076, syslen=13053, reflen=12134)
Namespace(beam=4, bpe=None, cpu=False, criterion='cross_entropy', data='../data-bin/wmt14_en_de_joined_dict_split_de-2', dataset_impl=None, decoding_format=None, diverse_beam_groups=-1, diverse_beam_strength=0.5, empty_cache_freq=0, force_anneal=None, fp16=False, fp16_init_scale=128, fp16_scale_tolerance=0.0, fp16_scale_window=None, gen_subset='valid', iter_decode_eos_penalty=0.0, iter_decode_force_max_iter=False, iter_decode_max_iter=10, lazy_load=False, left_pad_source='True', left_pad_target='False', lenpen=0.6, load_alignments=False, log_format=None, log_interval=1000, lr_scheduler='fixed', lr_shrink=0.1, match_source_len=False, max_len_a=0, max_len_b=200, max_sentences=128, max_source_positions=1024, max_target_positions=1024, max_tokens=None, memory_efficient_fp16=False, min_len=1, min_loss_scale=0.0001, model_overrides='{}', momentum=0.99, nbest=1, no_beamable_mm=False, no_early_stop=False, no_progress_bar=False, no_repeat_ngram_size=0, num_shards=1, num_workers=1, optimizer='nag', path='wmt14ende/wmt-admin-abspos-6l/checkpoint66.pt', prefix_size=0, print_alignment=False, print_step=False, quiet=True, raw_text=False, remove_bpe='@@ ', replace_unk=None, required_batch_size_multiple=8, results_path=None, sacrebleu=False, sampling=False, sampling_topk=-1, sampling_topp=-1.0, score_reference=False, seed=1, shard_id=0, skip_invalid_size_inputs_valid_test=False, source_lang=None, target_lang=None, task='translation', tbmf_wrapper=False, temperature=1.0, tensorboard_logdir='', threshold_loss_scale=None, tokenizer=None, unkpen=0, unnormalized=False, upsample_primary=1, user_dir='../radam_fairseq', warmup_updates=0, weight_decay=0.0)
| [en] dictionary: 37184 types
| [de] dictionary: 37184 types
| loaded 944 examples from: ../data-bin/wmt14_en_de_joined_dict_split_de-2/valid.en-de.en
| loaded 944 examples from: ../data-bin/wmt14_en_de_joined_dict_split_de-2/valid.en-de.de
| ../data-bin/wmt14_en_de_joined_dict_split_de-2 valid en-de 944 examples
| loading model(s) from wmt14ende/wmt-admin-abspos-6l/checkpoint66.pt
source len: 1024
target len: 1024
1
layer_num: 0, layer_iter: 1.0
encoder attn ratio: 1.0
layer_num: 0, layer_iter: 2.0
encoder ffn ratio: 1.0266083478927612
layer_num: 1, layer_iter: 3.0
encoder attn ratio: 1.204774022102356
layer_num: 1, layer_iter: 4.0
encoder ffn ratio: 1.2311817407608032
layer_num: 2, layer_iter: 5.0
encoder attn ratio: 1.3847664594650269
layer_num: 2, layer_iter: 6.0
encoder ffn ratio: 1.4184565544128418
layer_num: 3, layer_iter: 7.0
encoder attn ratio: 1.5441515445709229
layer_num: 3, layer_iter: 8.0
encoder ffn ratio: 1.5812358856201172
layer_num: 4, layer_iter: 9.0
encoder attn ratio: 1.7005172967910767
layer_num: 4, layer_iter: 10.0
encoder ffn ratio: 1.744560956954956
layer_num: 5, layer_iter: 11.0
encoder attn ratio: 1.8555399179458618
layer_num: 5, layer_iter: 12.0
encoder ffn ratio: 1.9033799171447754
layer_num: 0, layer_iter: 1.0
decoder self ratio: 1.0
layer_num: 0, layer_iter: 2.0
decoder en ratio: 0.6886593699455261
layer_num: 0, layer_iter: 3.0
decoder ffn ratio: 0.8111870884895325
layer_num: 1, layer_iter: 4.0
decoder self ratio: 1.0267705917358398
layer_num: 1, layer_iter: 5.0
decoder en ratio: 1.1161627769470215
layer_num: 1, layer_iter: 6.0
decoder ffn ratio: 1.2036521434783936
layer_num: 2, layer_iter: 7.0
decoder self ratio: 1.3565627336502075
layer_num: 2, layer_iter: 8.0
decoder en ratio: 1.4442957639694214
layer_num: 2, layer_iter: 9.0
decoder ffn ratio: 1.5033378601074219
layer_num: 3, layer_iter: 10.0
decoder self ratio: 1.633933186531067
layer_num: 3, layer_iter: 11.0
decoder en ratio: 1.7239692211151123
layer_num: 3, layer_iter: 12.0
decoder ffn ratio: 1.7801494598388672
layer_num: 4, layer_iter: 13.0
decoder self ratio: 1.8876510858535767
layer_num: 4, layer_iter: 14.0
decoder en ratio: 1.9767776727676392
layer_num: 4, layer_iter: 15.0
decoder ffn ratio: 2.019747018814087
layer_num: 5, layer_iter: 16.0
decoder self ratio: 2.1125738620758057
layer_num: 5, layer_iter: 17.0
decoder en ratio: 2.1929163932800293
layer_num: 5, layer_iter: 18.0
decoder ffn ratio: 2.233884811401367
| Translated 944 sentences (23020 tokens) in 5.0s (188.38 sentences/s, 4593.77 tokens/s)
| Generate valid with beam=4: BLEU4 = 27.57, 59.1/33.3/21.4/14.2 (BP=0.991, ratio=0.991, syslen=18191, reflen=18353)
Namespace(beam=4, bpe=None, cpu=False, criterion='cross_entropy', data='../data-bin/wmt14_en_de_joined_dict_split_de-2', dataset_impl=None, decoding_format=None, diverse_beam_groups=-1, diverse_beam_strength=0.5, empty_cache_freq=0, force_anneal=None, fp16=False, fp16_init_scale=128, fp16_scale_tolerance=0.0, fp16_scale_window=None, gen_subset='test', iter_decode_eos_penalty=0.0, iter_decode_force_max_iter=False, iter_decode_max_iter=10, lazy_load=False, left_pad_source='True', left_pad_target='False', lenpen=0.6, load_alignments=False, log_format=None, log_interval=1000, lr_scheduler='fixed', lr_shrink=0.1, match_source_len=False, max_len_a=0, max_len_b=200, max_sentences=128, max_source_positions=1024, max_target_positions=1024, max_tokens=None, memory_efficient_fp16=False, min_len=1, min_loss_scale=0.0001, model_overrides='{}', momentum=0.99, nbest=1, no_beamable_mm=False, no_early_stop=False, no_progress_bar=False, no_repeat_ngram_size=0, num_shards=1, num_workers=1, optimizer='nag', path='wmt14ende/wmt-admin-abspos-6l/checkpoint66.pt', prefix_size=0, print_alignment=False, print_step=False, quiet=True, raw_text=False, remove_bpe='@@ ', replace_unk=None, required_batch_size_multiple=8, results_path=None, sacrebleu=False, sampling=False, sampling_topk=-1, sampling_topp=-1.0, score_reference=False, seed=1, shard_id=0, skip_invalid_size_inputs_valid_test=False, source_lang=None, target_lang=None, task='translation', tbmf_wrapper=False, temperature=1.0, tensorboard_logdir='', threshold_loss_scale=None, tokenizer=None, unkpen=0, unnormalized=False, upsample_primary=1, user_dir='../radam_fairseq', warmup_updates=0, weight_decay=0.0)
| [en] dictionary: 37184 types
| [de] dictionary: 37184 types
| loaded 934 examples from: ../data-bin/wmt14_en_de_joined_dict_split_de-2/test.en-de.en
| loaded 934 examples from: ../data-bin/wmt14_en_de_joined_dict_split_de-2/test.en-de.de
| ../data-bin/wmt14_en_de_joined_dict_split_de-2 test en-de 934 examples
| loading model(s) from wmt14ende/wmt-admin-abspos-6l/checkpoint66.pt
source len: 1024
target len: 1024
1
layer_num: 0, layer_iter: 1.0
encoder attn ratio: 1.0
layer_num: 0, layer_iter: 2.0
encoder ffn ratio: 1.0266083478927612
layer_num: 1, layer_iter: 3.0
encoder attn ratio: 1.204774022102356
layer_num: 1, layer_iter: 4.0
encoder ffn ratio: 1.2311817407608032
layer_num: 2, layer_iter: 5.0
encoder attn ratio: 1.3847664594650269
layer_num: 2, layer_iter: 6.0
encoder ffn ratio: 1.4184565544128418
layer_num: 3, layer_iter: 7.0
encoder attn ratio: 1.5441515445709229
layer_num: 3, layer_iter: 8.0
encoder ffn ratio: 1.5812358856201172
layer_num: 4, layer_iter: 9.0
encoder attn ratio: 1.7005172967910767
layer_num: 4, layer_iter: 10.0
encoder ffn ratio: 1.744560956954956
layer_num: 5, layer_iter: 11.0
encoder attn ratio: 1.8555399179458618
layer_num: 5, layer_iter: 12.0
encoder ffn ratio: 1.9033799171447754
layer_num: 0, layer_iter: 1.0
decoder self ratio: 1.0
layer_num: 0, layer_iter: 2.0
decoder en ratio: 0.6886593699455261
layer_num: 0, layer_iter: 3.0
decoder ffn ratio: 0.8111870884895325
layer_num: 1, layer_iter: 4.0
decoder self ratio: 1.0267705917358398
layer_num: 1, layer_iter: 5.0
decoder en ratio: 1.1161627769470215
layer_num: 1, layer_iter: 6.0
decoder ffn ratio: 1.2036521434783936
layer_num: 2, layer_iter: 7.0
decoder self ratio: 1.3565627336502075
layer_num: 2, layer_iter: 8.0
decoder en ratio: 1.4442957639694214
layer_num: 2, layer_iter: 9.0
decoder ffn ratio: 1.5033378601074219
layer_num: 3, layer_iter: 10.0
decoder self ratio: 1.633933186531067
layer_num: 3, layer_iter: 11.0
decoder en ratio: 1.7239692211151123
layer_num: 3, layer_iter: 12.0
decoder ffn ratio: 1.7801494598388672
layer_num: 4, layer_iter: 13.0
decoder self ratio: 1.8876510858535767
layer_num: 4, layer_iter: 14.0
decoder en ratio: 1.9767776727676392
layer_num: 4, layer_iter: 15.0
decoder ffn ratio: 2.019747018814087
layer_num: 5, layer_iter: 16.0
decoder self ratio: 2.1125738620758057
layer_num: 5, layer_iter: 17.0
decoder en ratio: 2.1929163932800293
layer_num: 5, layer_iter: 18.0
decoder ffn ratio: 2.233884811401367
| Translated 934 sentences (25326 tokens) in 5.5s (168.97 sentences/s, 4581.65 tokens/s)
| Generate test with beam=4: BLEU4 = 26.07, 57.5/31.9/19.8/12.7 (BP=1.000, ratio=1.033, syslen=19376, reflen=18754)
Namespace(beam=4, bpe=None, cpu=False, criterion='cross_entropy', data='../data-bin/wmt14_en_de_joined_dict_split_de-3', dataset_impl=None, decoding_format=None, diverse_beam_groups=-1, diverse_beam_strength=0.5, empty_cache_freq=0, force_anneal=None, fp16=False, fp16_init_scale=128, fp16_scale_tolerance=0.0, fp16_scale_window=None, gen_subset='valid', iter_decode_eos_penalty=0.0, iter_decode_force_max_iter=False, iter_decode_max_iter=10, lazy_load=False, left_pad_source='True', left_pad_target='False', lenpen=0.6, load_alignments=False, log_format=None, log_interval=1000, lr_scheduler='fixed', lr_shrink=0.1, match_source_len=False, max_len_a=0, max_len_b=200, max_sentences=128, max_source_positions=1024, max_target_positions=1024, max_tokens=None, memory_efficient_fp16=False, min_len=1, min_loss_scale=0.0001, model_overrides='{}', momentum=0.99, nbest=1, no_beamable_mm=False, no_early_stop=False, no_progress_bar=False, no_repeat_ngram_size=0, num_shards=1, num_workers=1, optimizer='nag', path='wmt14ende/wmt-admin-abspos-6l/checkpoint66.pt', prefix_size=0, print_alignment=False, print_step=False, quiet=True, raw_text=False, remove_bpe='@@ ', replace_unk=None, required_batch_size_multiple=8, results_path=None, sacrebleu=False, sampling=False, sampling_topk=-1, sampling_topp=-1.0, score_reference=False, seed=1, shard_id=0, skip_invalid_size_inputs_valid_test=False, source_lang=None, target_lang=None, task='translation', tbmf_wrapper=False, temperature=1.0, tensorboard_logdir='', threshold_loss_scale=None, tokenizer=None, unkpen=0, unnormalized=False, upsample_primary=1, user_dir='../radam_fairseq', warmup_updates=0, weight_decay=0.0)
| [en] dictionary: 37184 types
| [de] dictionary: 37184 types
| loaded 995 examples from: ../data-bin/wmt14_en_de_joined_dict_split_de-3/valid.en-de.en
| loaded 995 examples from: ../data-bin/wmt14_en_de_joined_dict_split_de-3/valid.en-de.de
| ../data-bin/wmt14_en_de_joined_dict_split_de-3 valid en-de 995 examples
| loading model(s) from wmt14ende/wmt-admin-abspos-6l/checkpoint66.pt
source len: 1024
target len: 1024
1
layer_num: 0, layer_iter: 1.0
encoder attn ratio: 1.0
layer_num: 0, layer_iter: 2.0
encoder ffn ratio: 1.0266083478927612
layer_num: 1, layer_iter: 3.0
encoder attn ratio: 1.204774022102356
layer_num: 1, layer_iter: 4.0
encoder ffn ratio: 1.2311817407608032
layer_num: 2, layer_iter: 5.0
encoder attn ratio: 1.3847664594650269
layer_num: 2, layer_iter: 6.0
encoder ffn ratio: 1.4184565544128418
layer_num: 3, layer_iter: 7.0
encoder attn ratio: 1.5441515445709229
layer_num: 3, layer_iter: 8.0
encoder ffn ratio: 1.5812358856201172
layer_num: 4, layer_iter: 9.0
encoder attn ratio: 1.7005172967910767
layer_num: 4, layer_iter: 10.0
encoder ffn ratio: 1.744560956954956
layer_num: 5, layer_iter: 11.0
encoder attn ratio: 1.8555399179458618
layer_num: 5, layer_iter: 12.0
encoder ffn ratio: 1.9033799171447754
layer_num: 0, layer_iter: 1.0
decoder self ratio: 1.0
layer_num: 0, layer_iter: 2.0
decoder en ratio: 0.6886593699455261
layer_num: 0, layer_iter: 3.0
decoder ffn ratio: 0.8111870884895325
layer_num: 1, layer_iter: 4.0
decoder self ratio: 1.0267705917358398
layer_num: 1, layer_iter: 5.0
decoder en ratio: 1.1161627769470215
layer_num: 1, layer_iter: 6.0
decoder ffn ratio: 1.2036521434783936
layer_num: 2, layer_iter: 7.0
decoder self ratio: 1.3565627336502075
layer_num: 2, layer_iter: 8.0
decoder en ratio: 1.4442957639694214
layer_num: 2, layer_iter: 9.0
decoder ffn ratio: 1.5033378601074219
layer_num: 3, layer_iter: 10.0
decoder self ratio: 1.633933186531067
layer_num: 3, layer_iter: 11.0
decoder en ratio: 1.7239692211151123
layer_num: 3, layer_iter: 12.0
decoder ffn ratio: 1.7801494598388672
layer_num: 4, layer_iter: 13.0
decoder self ratio: 1.8876510858535767
layer_num: 4, layer_iter: 14.0
decoder en ratio: 1.9767776727676392
layer_num: 4, layer_iter: 15.0
decoder ffn ratio: 2.019747018814087
layer_num: 5, layer_iter: 16.0
decoder self ratio: 2.1125738620758057
layer_num: 5, layer_iter: 17.0
decoder en ratio: 2.1929163932800293
layer_num: 5, layer_iter: 18.0
decoder ffn ratio: 2.233884811401367
| Translated 995 sentences (43652 tokens) in 10.7s (92.79 sentences/s, 4070.75 tokens/s)
| Generate valid with beam=4: BLEU4 = 25.98, 59.6/32.6/20.3/13.1 (BP=0.970, ratio=0.970, syslen=34177, reflen=35223)
Namespace(beam=4, bpe=None, cpu=False, criterion='cross_entropy', data='../data-bin/wmt14_en_de_joined_dict_split_de-3', dataset_impl=None, decoding_format=None, diverse_beam_groups=-1, diverse_beam_strength=0.5, empty_cache_freq=0, force_anneal=None, fp16=False, fp16_init_scale=128, fp16_scale_tolerance=0.0, fp16_scale_window=None, gen_subset='test', iter_decode_eos_penalty=0.0, iter_decode_force_max_iter=False, iter_decode_max_iter=10, lazy_load=False, left_pad_source='True', left_pad_target='False', lenpen=0.6, load_alignments=False, log_format=None, log_interval=1000, lr_scheduler='fixed', lr_shrink=0.1, match_source_len=False, max_len_a=0, max_len_b=200, max_sentences=128, max_source_positions=1024, max_target_positions=1024, max_tokens=None, memory_efficient_fp16=False, min_len=1, min_loss_scale=0.0001, model_overrides='{}', momentum=0.99, nbest=1, no_beamable_mm=False, no_early_stop=False, no_progress_bar=False, no_repeat_ngram_size=0, num_shards=1, num_workers=1, optimizer='nag', path='wmt14ende/wmt-admin-abspos-6l/checkpoint66.pt', prefix_size=0, print_alignment=False, print_step=False, quiet=True, raw_text=False, remove_bpe='@@ ', replace_unk=None, required_batch_size_multiple=8, results_path=None, sacrebleu=False, sampling=False, sampling_topk=-1, sampling_topp=-1.0, score_reference=False, seed=1, shard_id=0, skip_invalid_size_inputs_valid_test=False, source_lang=None, target_lang=None, task='translation', tbmf_wrapper=False, temperature=1.0, tensorboard_logdir='', threshold_loss_scale=None, tokenizer=None, unkpen=0, unnormalized=False, upsample_primary=1, user_dir='../radam_fairseq', warmup_updates=0, weight_decay=0.0)
| [en] dictionary: 37184 types
| [de] dictionary: 37184 types
| loaded 985 examples from: ../data-bin/wmt14_en_de_joined_dict_split_de-3/test.en-de.en
| loaded 985 examples from: ../data-bin/wmt14_en_de_joined_dict_split_de-3/test.en-de.de
| ../data-bin/wmt14_en_de_joined_dict_split_de-3 test en-de 985 examples
| loading model(s) from wmt14ende/wmt-admin-abspos-6l/checkpoint66.pt
source len: 1024
target len: 1024
1
layer_num: 0, layer_iter: 1.0
encoder attn ratio: 1.0
layer_num: 0, layer_iter: 2.0
encoder ffn ratio: 1.0266083478927612
layer_num: 1, layer_iter: 3.0
encoder attn ratio: 1.204774022102356
layer_num: 1, layer_iter: 4.0
encoder ffn ratio: 1.2311817407608032
layer_num: 2, layer_iter: 5.0
encoder attn ratio: 1.3847664594650269
layer_num: 2, layer_iter: 6.0
encoder ffn ratio: 1.4184565544128418
layer_num: 3, layer_iter: 7.0
encoder attn ratio: 1.5441515445709229
layer_num: 3, layer_iter: 8.0
encoder ffn ratio: 1.5812358856201172
layer_num: 4, layer_iter: 9.0
encoder attn ratio: 1.7005172967910767
layer_num: 4, layer_iter: 10.0
encoder ffn ratio: 1.744560956954956
layer_num: 5, layer_iter: 11.0
encoder attn ratio: 1.8555399179458618
layer_num: 5, layer_iter: 12.0
encoder ffn ratio: 1.9033799171447754
layer_num: 0, layer_iter: 1.0
decoder self ratio: 1.0
layer_num: 0, layer_iter: 2.0
decoder en ratio: 0.6886593699455261
layer_num: 0, layer_iter: 3.0
decoder ffn ratio: 0.8111870884895325
layer_num: 1, layer_iter: 4.0
decoder self ratio: 1.0267705917358398
layer_num: 1, layer_iter: 5.0
decoder en ratio: 1.1161627769470215
layer_num: 1, layer_iter: 6.0
decoder ffn ratio: 1.2036521434783936
layer_num: 2, layer_iter: 7.0
decoder self ratio: 1.3565627336502075
layer_num: 2, layer_iter: 8.0
decoder en ratio: 1.4442957639694214
layer_num: 2, layer_iter: 9.0
decoder ffn ratio: 1.5033378601074219
layer_num: 3, layer_iter: 10.0
decoder self ratio: 1.633933186531067
layer_num: 3, layer_iter: 11.0
decoder en ratio: 1.7239692211151123
layer_num: 3, layer_iter: 12.0
decoder ffn ratio: 1.7801494598388672
layer_num: 4, layer_iter: 13.0
decoder self ratio: 1.8876510858535767
layer_num: 4, layer_iter: 14.0
decoder en ratio: 1.9767776727676392
layer_num: 4, layer_iter: 15.0
decoder ffn ratio: 2.019747018814087
layer_num: 5, layer_iter: 16.0
decoder self ratio: 2.1125738620758057
layer_num: 5, layer_iter: 17.0
decoder en ratio: 2.1929163932800293
layer_num: 5, layer_iter: 18.0
decoder ffn ratio: 2.233884811401367
| Translated 985 sentences (44218 tokens) in 10.7s (91.69 sentences/s, 4116.12 tokens/s)
| Generate test with beam=4: BLEU4 = 28.49, 60.0/34.3/21.9/14.6 (BP=1.000, ratio=1.006, syslen=33828, reflen=33618)
